<!DOCTYPE html>
<html>
<head>
	<title>IS219 Gallery (Project 3)</title>

	<!-- Our CSS File along with Boostrap Styles, and FontAwesome Styles-->
	<link rel="stylesheet" type='text/css' href="style.css"/>
	<link rel="stylesheet" type='text/css' href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
	<link rel="stylesheet" type='text/css' href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	
	<!-- jQuery -->
	<script src="https://code.jquery.com/jquery-3.4.0.min.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>


	<!-- DO NOT CHANGE ANYTHING ABOVE THIS LINE-->

	<!-- Javascript Framework (e.g., vue.js) (ADD HERE) -->
    <script src="https://vuejs.org/js/vue.js"></script>
	
	
</head>

  <body>
	<div class="container" id="vue_app">

	    <div class="header" id="vue_app">
		    
	      <div class="container" id="vue_app">
	        <h1 id="app_title">{{ title }}</h1>
	      </div>
	      
	    </div>


	    <div class="main">

	      <div class="container">

	        <div class="col-md-6" v-for="(movie, index) in movies" :key="index"> 
	            <div class="thumbnail">

						<img class="poster" v-bind:src = "movie.posters[movie.posterindex]"/>
						<div class="imageInfo">{{ movies[index].posterIndex }}</div>
						
						<p class="title">{{ movies[index].title }} ({{ movies[index].country }})</p> 
						<p class="score"><i class="fa fa-star" aria-hidden="true"></i> {{ movies[index].iscore }} </p>
						<p class="runtime">Runtime: {{ movies[index].runtime }}</p> 
						<p class="released">Released:{{ movies[index].released }}| Rated:{{ movies[index].rating }}</p>
						<p class="websites">Websites: <a>{{ movies[index].imdb }}</a> | <a>{{ movies[index].website }}</a></p>
						
			            <div class="social">
			                <p class="likes" @click="like(index)">
                              <i class="fa fa-thumbs-up" aria-hidden="true"></i>{{ movies[index].likes }}
                               
                            </p>
			                <p class="dislikes" @click="dislike(index)">
                              <i class="fa fa-thumbs-down" aria-hidden="true"></i>{{ movies[index].dislikes }}
                            </p>
			            </div>
	            </div> 
	        </div>

	      </div>
        
           
	    </div>

	    <div class="footer">
	      <div class="container">
			<a id="github" class="btn btn-lg btn-warning" href="https://github.com/RichieVo/richievo-p3">
				<i class="fa fa-lg fa-github pull-left" aria-hidden="true"></i>{{ owner }} {{ github }}
	  		</a>
	      </div>
	    </div>
	</div>
  
  	<!-- This load the Vue.js code -->
	<!-- <script type="text/javascript" src="site.js"> -->
    <script type="text/javascript" >

    const vue_app = new Vue({
          el: '#vue_app',
          // This automatically imports your movies.json file and puts it into
          //   the variable: movies
          created () {
                fetch('movies.json').then(response => response.json()).then(json => {
                      this.movies = json
                })
          },
          data: {
                // This holds your movies.json data.
                movies: [],

                /* ADD ADDITIONAL VARIABLES FOR STEP 3 HERE */
                title: 'IMDB + Richieâ€™s Top 8 Movies',
                owner: 'Richie',
                github: 'https://github.com/RichieVo/richievo-p3'


          },
          methods: {
                /* ADD FUNCTIONS/METHODS FOR STEP 7 HERE */
                //Date Converter
                makeTextDate: function(dateArray) {
                    var year = dateArray[0];
                    var month = dateArray[1];
                    var day = dateArray[2];
              
                    //Month Converter
                    var monthArray = new Array();
                    monthArray[0] = "January";
                    monthArray[1] = "February";
                    monthArray[2] = "March";
                    monthArray[3] = "April";
                    monthArray[4] = "May";
                    monthArray[5] = "June";
                    monthArray[6] = "July";
                    monthArray[7] = "August";
                    monthArray[8] = "September";
                    monthArray[9] = "October";
                    monthArray[10] = "November";
                    monthArray[11] = "December";
                    var alphaMonth = monthArray[month];
                    return alphaMonth + " " + day + ", " + year;
              
                },
                
                //Like Counter
                like: function(index) {
                    this.movies[index].likes++;
                   
                },
                
                //Dislike Counter
                dislike: function(index) {
                    this.movies[index].dislikes++;
                   
                },
                
                //Poster Click
                posterClick: function(index) {
                    this.movies[index].posterIndex++;
                },
                
                //Time Converter
                timeText: function(minutes) {
                    //variable reassignment
                    var num = minutes;
                    var hour = (num / 60);
                    var nhours = Math.floor(hour);
                    var minute = (hour - nhours) * 60;
                    var nminutes = Math.round(minute);
                    return nhours + "h " + nminutes + "m ";
                }
                
              
          }
    })  

    </script>
	 
  
</body>
</html>
